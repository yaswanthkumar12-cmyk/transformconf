<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Generate Splunk transforms.conf | Splunk App Builder</title>

  <!-- ✅ SEO Meta -->
  <meta name="description" content="Easily generate Splunk transforms.conf from sample logs. Supports manual input or log file upload. Simple, fast, and optimized for Splunk log parsing." />
  <meta name="keywords" content="Splunk, transforms.conf, Splunk regex, Splunk log parser, generate transforms.conf, Splunk configuration generator, Splunk app builder" />
  <meta name="author" content="Splunk App Builder Tool" />

  <!-- ✅ Open Graph Meta -->
  <meta property="og:title" content="Splunk transforms.conf Generator" />
  <meta property="og:description" content="Upload logs or paste samples to generate Splunk transforms.conf with regex and format mapping." />
  <meta property="og:image" content="https://yourdomain.com/preview-image.png" />
  <meta property="og:url" content="https://yourdomain.com/" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <style>
    body {
      padding: 2rem;
      background-color: #f8f9fa;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }
    .form-container {
      max-width: 900px;
      width: 100%;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 2rem;
    }
    h1 {
      text-align: center;
      color: #0d6efd;
      margin-bottom: 1rem;
      user-select: none;
    }
    .regex-output {
      background-color: #f8f9fa;
      border: 1px dashed #ced4da;
      padding: 0.75rem;
      border-radius: 6px;
      font-family: monospace, monospace;
      color: #333;
      font-size: 0.9rem;
      white-space: pre-wrap;
      margin-bottom: 1rem;
      max-height: 250px;
      overflow-y: auto;
      user-select: text;
    }
    .log-group-input {
      background: #e9ecef;
      padding: 1rem;
      border-radius: 6px;
      margin-bottom: 1rem;
    }
    button:focus {
      outline-offset: 2px;
      outline: 3px solid #0d6efd;
    }
  </style>
</head>
<body>
  <main class="form-container" role="main" aria-label="Splunk App Builder log input">
    <h1>Generate Splunk transforms.conf from Logs</h1>
    <p class="text-center text-muted mb-4">Paste or upload logs and instantly generate Splunk <code>transforms.conf</code> for field extraction.</p>

    <!-- Toggle Buttons -->
    <div class="mb-4 text-center" role="group" aria-label="Toggle input mode">
      <button type="button" class="btn btn-outline-primary me-2" id="manualBtn" aria-pressed="false" aria-controls="manualForm">Manual Input</button>
      <button type="button" class="btn btn-outline-secondary" id="uploadBtn" aria-pressed="false" aria-controls="uploadForm">Upload File</button>
    </div>

    <!-- Manual Form -->
    <form id="manualForm" style="display:none;" aria-live="polite" novalidate>
      <div class="mb-3">
        <label for="manualStanza" class="form-label">Source Name</label>
        <input type="text" class="form-control" id="manualStanza" placeholder="custom_log_extract" aria-describedby="manualStanzaHelp" />
        <div id="manualStanzaHelp" class="form-text">Enter a name for the transform stanza.</div>
      </div>

      <div class="mb-3">
        <label for="manualLogs" class="form-label">Paste Sample Logs</label>
        <textarea id="manualLogs" class="form-control" rows="6" placeholder="Paste 2 to 10 sample log lines here..." aria-describedby="manualLogsHelp"></textarea>
        <div id="manualLogsHelp" class="form-text">You must enter between 2 and 10 log lines.</div>
      </div>

      <div class="mb-3 d-flex gap-2">
        <button type="submit" class="btn btn-outline-primary"><i class="bi bi-magic"></i> Generate</button>
        <button type="button" class="btn btn-success" id="manualCopyBtn"><i class="bi bi-clipboard"></i> Copy</button>
      </div>

      <div class="mb-3">
        <label for="manualOutput" class="form-label">Generated transforms.conf</label>
        <pre class="regex-output" id="manualOutput">Your transforms.conf will appear here...</pre>
      </div>
    </form>

    <!-- Upload Form -->
    <form id="uploadForm" style="display:none;" aria-live="polite" novalidate>
      <div id="uploadStepCount" class="mb-3">
        <label for="uploadExpectedCount" class="form-label">Expected Number of Transform Config</label>
        <input type="number" class="form-control" id="uploadExpectedCount" min="1" required />
        <div class="form-text">How many transforms.conf files do you want to generate?</div>
        <button type="button" class="btn btn-primary mt-2" id="uploadCountNextBtn">Next</button>
      </div>

      <div id="uploadGroupsContainer" style="display:none;"></div>

      <div class="mb-3" id="uploadGenerateSection" style="display:none;">
        <button type="button" class="btn btn-outline-primary" id="uploadGenerateBtn" disabled><i class="bi bi-upload"></i> Generate</button>
        <button type="button" class="btn btn-success" id="uploadCopyBtn"><i class="bi bi-clipboard"></i> Copy All</button>
      </div>

      <div class="mb-3">
        <label for="uploadOutput" class="form-label" style="display:none;">Generated transforms.conf (Multiple)</label>
        <pre class="regex-output" id="uploadOutput" style="display:none;">Your transforms.conf will appear here...</pre>
      </div>
    </form>

    <!-- ✅ SEO Keyword Footer -->
    <footer class="mt-5 text-center text-muted small">
      <p>This tool helps you generate <strong>Splunk transforms.conf</strong> from log samples using regex. Ideal for Splunk TAs, log parsers, and DevOps teams.</p>
    </footer>
  </main>

  <!-- Scripts remain unchanged (you can paste your current JS here) -->
  <!-- ... keep your existing JavaScript exactly as is ... -->
</body>
</html>
